README for MCTS Task Tree Extraction

Overview:

This project implements the Monte Carlo Tree Search (MCTS) algorithm to generate task trees based on a Functional Object-Oriented Network (FOON). The task tree represents the ordered steps required to complete a dish using available kitchen resources, such as ingredients and utensils.

The program processes kitchen state data, goal objects, and FOON information (from FOON.txt), and then constructs task trees using MCTS. Each task tree highlights the steps needed to achieve a specified goal object in the FOON system. The preprocess.py script is provided to convert FOON from a text format into a more efficient FOON.pkl file.

Features:

Monte Carlo Tree Search (MCTS):
- Simulates multiple executions of functional units (FUs) to generate task trees based on given goal objects.
- Leverages the UCB1 algorithm to balance between exploration of lesser-used FUs and exploitation of FUs with higher success rates.
  
Task Tree Generation:
- The task tree is saved in individual .txt files for each goal object, describing the sequence of actions needed to prepare the dish.

Required Input Files:

The program requires the following files to function correctly:

1. FOON.txt: Contains the FOON structure in a text format, including functional units and object nodes.
2. FOON.pkl: A binary file generated by running preprocess.py on FOON.txt.
3. kitchen.json: Describes the items and utensils available in the kitchen.
4. goal_nodes.json: Specifies the goal objects (including their labels, states, ingredients, and containers) to be created.
5. utensils.txt: Lists all utensils that are available in the kitchen.
6. motion.txt: A file containing the success probabilities for different functional units.
7. preprocess.py: A utility script to convert FOON.txt into FOON.pkl for better efficiency.

Output:

- The program creates task trees for each goal object and saves them into distinct .txt files.
- Each file follows the naming convention output_MCTS_<goal>.txt, where <goal> refers to the specific goal object.

If a goal node is not found in the FOON, a message will be printed to indicate that the goal node could not be located.

Project Files:

1. preprocess.py: Script to convert FOON.txt into FOON.pkl for faster processing.
2. MCTS.py: Implements the MCTS algorithm for task tree generation.
3. test_script.py: A script to display the generated task trees.
4. FOON.txt: Contains the FOON structure in text format.
5. FOON.pkl: Binary file of FOON data, created from FOON.txt by running preprocess.py.
6. kitchen.json: JSON file listing available kitchen items and utensils.
7. goal_nodes.json: JSON file listing the goal objects to be created.
8. utensils.txt: Text file listing all available utensils.
9. motion.txt: Tab-separated file specifying success rates for functional units.

Instructions:

1. Install Necessary Packages:
Ensure you have Python 3 installed. This project uses only standard Python libraries such as:
- pickle
- json
- random
- math
No additional external libraries are required.

2. Preprocessing FOON Data:
Before running the MCTS algorithm, you need to convert FOON.txt into FOON.pkl using preprocess.py. This conversion speeds up the program execution.

Steps to preprocess FOON data:
1. Ensure FOON.txt is in the same directory as preprocess.py.
2. Run the following command:
   python preprocess.py
3. The script will generate FOON.pkl, which will be used by the main MCTS algorithm.

3. Running the MCTS Algorithm:
The MCTS algorithm is implemented in MCTS.py and generates task trees based on the provided kitchen items, goal objects, and FOON data.

Steps to generate task trees:
1. Ensure the following files are in the same directory as MCTS.py:
   - FOON.pkl (generated from FOON.txt)
   - kitchen.json
   - goal_nodes.json
   - utensils.txt
   - motion.txt
2. Run MCTS.py to generate task trees:
   python MCTS.py
3. Task trees will be saved as .txt files, each corresponding to a goal object.

4. Viewing Task Trees:
To view the task trees generated by MCTS.py, you can run the test_script.py script, which reads the output files and displays them.
   python test_script.py
This script will print the task trees for the specified goal nodes.

Example:

For a goal node like "whipped cream", the program will generate:
- output_MCTS_whipped_cream.txt: The task tree for creating whipped cream.

Directory Structure:

.
├── preprocess.py                 # Script for converting FOON.txt to FOON.pkl
├── MCTS.py                       # MCTS implementation for task tree generation
├── test_script.py                # Script for displaying task trees
├── FOON.txt                      # FOON data in text format
├── FOON.pkl                      # FOON data in binary pickle format
├── kitchen.json                  # Kitchen items and utensils
├── goal_nodes.json               # Goal objects for task tree generation
├── utensils.txt                  # List of available utensils
├── motion.txt                    # Functional unit success rates
└── output_MCTS_<goal>.txt        # Generated task trees


